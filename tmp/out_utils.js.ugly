!function(){"use strict";function t(t){return t.replace(/(^\/+|\/+$)/g,"").replace(/\/{2,}/g,"/")}function e(t){return _(t).pairs().map(function(t){var e=t[0],n=t[1];if(null===n)n="";else if(n.toString==={}.toString)throw new Error("Attempted to pass object as URI query parameter, but object does not implement toString");return encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&")}function n(n,r){function i(n,r,i,o){if(4!==arguments.length&&3!==arguments.length)throw new Error("Parameter count for `new Endpoint` is incorrect");i=null===i?"":i instanceof Array?_(i).flatten().join("/"):String(i),this.name=n,this.secure=r,this.protocol=this.secure?"https":"http",this.path=i.length?t(i):"",this.queryObj=o||{};var s=e(this.queryObj);this.baseUrl=this.protocol+"://"+this.path,this.url=this.base+(s.length>0?"?"+s:""),Object.freeze(this)}function o(t,e){if(3!==arguments.length)throw new Error("Wrong number of parameters for endpoint.extend");return null===e&&(e=""),new i(t||this.name,this.secure,[this.path,e],this.queryObj)}function s(t){return new i(t||this.name,this.secure,this.path,_({}).extend(this.queryObj,queryObj||{}))}function u(t,e,i){var o={method:t,url:this.baseUrl,params:this.queryObj,data:e};i&&_(o).extend(i);var s=this;return n(o).catch(function(t){throw r.error("Failed to communicate with "+s.name+": "+t.message),t})}function a(t){return function(e,n){return this.invoke(t,e,n)}}function h(){return this.url}return i.prototype={constructor:i,extend:o,query:s,invoke:u,get:a("GET"),post:a("POST"),put:a("PUT"),del:a("DELETE"),"delete":a("DELETE"),head:a("HEAD"),options:a("OPTIONS"),toString:h},i}angular.module("utils").factory("Endpoint",n),n.$inject=["$http","toastService"]}(),function(){"use strict";angular.module("utils",[])}();